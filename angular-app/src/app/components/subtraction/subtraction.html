<div class="subtraction-container">
  <h1>Aftrek Oefening</h1>
  <p>Vul een aantal in en klik op de zonnetjes om ze te verplaatsen!</p>
  
  <div class="calculation-section">
    <span class="count-display">{{ currentValue }}</span>
    <span class="minus-symbol">−</span>
    <span class="count-display">{{ removedCount }}</span>
    <span class="equals-symbol">=</span>
    <input 
      type="number" 
      [(ngModel)]="userAnswer"
      (keypress.enter)="checkAnswer()"
      class="answer-input" 
      placeholder="?"
    />
    <button (click)="checkAnswer()" class="check-btn-inline">Controleer!</button>
  </div>
  
  <div class="check-section">
    <div *ngIf="feedback" [class]="'feedback ' + feedbackClass">
      {{ feedback }}
    </div>
  </div>
  
  <div class="columns-container">
    <div class="column">
      <h3>Hoeveel zonnetjes?</h3>
      <div class="initial-display">
        <div *ngIf="!isInputReadOnly" class="input-in-column">
          <div class="number-input-controls">
            <button (click)="decrement()" class="arrow-btn">▼</button>
            <input 
              type="number" 
              id="numberInput" 
              [(ngModel)]="currentValue"
              (ngModelChange)="onInputChange()"
              [min]="0" 
              [max]="MAX_SYMBOLS" 
              [readonly]="isInputReadOnly"
            />
            <button (click)="increment()" class="arrow-btn">▲</button>
          </div>
        </div>
        <div *ngIf="isInputReadOnly">{{ currentValue }}</div>
      </div>
    </div>
    
    <div class="column">
      <h3>Weggehaald</h3>
      <div class="symbols-column">
        <div 
          *ngFor="let symbol of removedSymbols" 
          class="symbol"
          (click)="moveToRemaining(symbol)"
        >
          ☀️
        </div>
      </div>
      <div class="column-count">{{ removedCount }}</div>
    </div>
    
    <div class="column">
      <h3>Over</h3>
      <div class="symbols-column">
        <div 
          *ngFor="let symbol of symbols" 
          class="symbol"
          (click)="moveToRemoved(symbol)"
        >
          ☀️
        </div>
      </div>
      <div class="column-count">{{ remainingCount }}</div>
    </div>
  </div>
  
  <app-tip-bar 
    [problemType]="problemType"
    [initialValue]="currentValue"
    [removedValue]="removedCount"
  ></app-tip-bar>
</div>
